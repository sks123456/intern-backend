// write the internal logic of your purchaseItem 
// since your purchase item controller is very lengthy.
// this should handles the deduction of ewallet, ewallet tx